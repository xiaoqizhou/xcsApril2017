%CS 109 Problem Set Xiaoqi Zhou


\documentclass{article}
	% basic article document class
	% use percent signs to make comments to yourself -- they will not show up.

\usepackage{amsmath}
\usepackage{amssymb}
	% packages that allow mathematical formatting

\usepackage{graphicx}
	% package that allows you to include graphics

\usepackage[top=1in, bottom=1in, left=1in, right=1in]{geometry}

\frenchspacing
	% one space after periods

\usepackage{fancyhdr}
	% allows custom headers

\pagestyle{fancy}

\lhead{CS 109, Stanford University \\ Problem Set \#2} 
\rhead{Xiaoqi Zhou (xqzhou@stanford.edu) \\ 06237147}
\usepackage{color}
\usepackage{courier}
\cfoot{\thepage}
\renewcommand{\footrulewidth}{0.4pt} 
	%footer
\newcommand{\myansw}{\textbf{Answer:}\\}
\newcommand{\mysolu}{\textbf{Solution:}\\}
\begin{document}
\thispagestyle{fancy} %shows header/footer

\begin{enumerate}
	\item
	\begin{enumerate}
		%1.a
		\item
		\mysolu
		Define event\\
		${J = \{\text{engineer program in Java}\}}$\\
		${C = \{\text{engineer program in C++}\}}$\\
		Then
		${P(C|J)=\frac{P(CJ)}{P(J)}}$\\
		${0.24=\frac{P(CJ)}{0.36}}$\\
		\myansw
		The probability that a randomly selected engineer programs in Java and C++ is\\
		\colorbox{yellow}{
			${P(CJ)=0.0864}$\\
		}\\
		%1.b
		\item
		\mysolu
		${P(J|C)=\frac{P(CJ)}{P(C)}}$\\
		\myansw
		The probability that a randomly selected engineer programs in Java given that he/she programs in C++ is\\
		\colorbox{yellow}{
			${P(J|C)=\frac{0.0864}{0.33}=0.2618}$\\
		}\\
	\end{enumerate}
	\item
	\begin{enumerate}
		%2.a
		\item 
		\mysolu
		${P(E)=\frac{4\times 3}{52 \times 51}=0.0181}$\\
		The Ace of Spades can be either the first card or the second card\\
		${P(F)=\frac{1\times 51 + 51 \times 1}{52 \times 51}=0.0385}$\\
		${P(EF)=\frac{1\times 3 + 3 \times 1}{52 \times 51}=0.00226}$\\
		\myansw
		\colorbox{yellow}{${P(E|F)=\frac{P(EF)}{P(F)}=0.0588}$}\\
		%2.b
		\item 
		\mysolu
		Since event ${G}$ must happen when event ${E}$ happens\\
		${P(G|E)=1}$\\
		${1=\frac{P(GE)}{P(E)}}$\\
		${P(GE)=P(E)}$\\
		We can calculate the complement of event ${G}$\\
		${P(G^c)=\frac{48\times 47}{52\times 51}=0.851}$\\
		${P(G)=1-P(G^c)=0.149}$\\
		\myansw
		\colorbox{yellow}{
			${P(E|G)=\frac{P(EG)}{P(G)}=\frac{P(E)}{P(G)}=0.121}$
		}\\
	\end{enumerate}
	\item
	\begin{enumerate}
		\item
		\mysolu
		Define event ${E_i=\{\text{a user likes movie} M_i\}}$,${T=\{\text{a user like the Tearjerker genre}\}}$\\
		${P(E_i|T)=p_i}$\\
		\myansw
		${P((E_1 \cap E_2 \cap E_3)|T)=P(E_1|T)\cap P(E_2|T)\cap P(E_3|T)}$\\
		Since all the ${E_i|T}$ are conditionally independent, the probability that a user likes all three movies $M_1$, $M_2$ and $M_3$ given that they like the Tearjerker genre is\\
		${P((E_1 \cap E_2 \cap E_3)|T)=P(E_1|T)P(E_2|T)P(E_3|T)=p_1 p_2 p_3}$
		\item
		\myansw
		\colorbox{yellow}{
			${P((E_1 \cup E_2 \cup E_3)|T)=P(E_1|T) \cup P(E_2|T) \cup P(E_3|T) = p_1+p_2+p_3 - (p_1 p_2+p_3 p_2+p_3 p_1)}$
		}\\
		\item
		\mysolu
		Define event ${E_{all}=\{\text{user likes all the 3 movie}\}}$\\
		${P(E_{all}|T)=p_1 p_1 p_3}$\\
		${P(E_{all}|T^c)=q_1 q_2 q_3}$\\
		${P(E_{all}T)=P(E_{all}|T)P(T)=0.6 p_1 p_2 p_3}$\\
		${P(E_{all}T^c)=P(E_{all}|T^c)P(T)=(1-0.6) q_1 q_2 q_3=0.4 q_1 q_2 q_3 }$\\
		${P(E_{all})=P(E_{all}T)+P(E_{all}T^c)}$\\
		\myansw
		The probability that they like the Tearjerker genre that they like $M_1$, $M_2$ and $M_3$ is\\
		\colorbox{yellow}{
			${P(T|E_{all})=\frac{P(TE_{all})}{P(E)}=\frac{0.6 p_1 p_2 p_3}{0.6 p_1 p_2 p_3+0.4 q_1 q_2 q_3}}$
		}\\
		
	\end{enumerate}
	\item
	\begin{enumerate}
		\item
		\mysolu
		We can calculate the probability of event ${F=\{text{all the 5 servers failed in one year}\}}$\\
		${P(F)=(1-p)^5}$\\
		\myansw
		The probability that at least 1 server is still working after on year is\\
		\colorbox{yellow}{${P(E_1)=1-P(F)=1-(1-p)^5}$}\\
		\item
		\mysolu
		We can consider each particular combination of the 3 servers that are still working.\\
		${P(G_i)=p^3(1-p)^2}$\\
		Since all the events are mutually exclusive
		\myansw
		The probability that exactly 3 server is still working after on year is\\
		\colorbox{yellow}{
			${P(E_3)={5 \choose 3}P(G_i)=6p^3(1-p)^2}$
		}\\
		\item
		\mysolu
		We can consider 3 situations: exactly 3, 4, 5 servers are still working after one year and combine them together.\\
		\myansw
		The probability that at least 3 server is still working after on year is\\
		\colorbox{yellow}{
			${P(E)=P(E_3)+P(E_4)+P(E_5)=\sum\limits_{i=3}^5 {5 \choose i}p^i(1-p)^{5-i}}$
		}\\
		
	\end{enumerate}
	\item
	\mysolu
	The probability of all the bit in a ${n}$ bit string is\\
	${P(F) = (1-p)^n}$\\
	Then the probability that at least one 1 in the string is\\
	${P(E) = 1- P(F)= 1-(1-p)^n}$\\
	\myansw
	${P(E)>0.7}$\\
	The ${n}$ requirment for the probability that there is at least one 1 in the string is at least 0.7 is\\
	\colorbox{yellow}{	
		${n>log_{1-p}(0.3)}$
	}\\
	\item
	\begin{enumerate}
		\item
		\mysolu
		${F_i=\{\text{at least one string hashed into i-th bucket}\}}$\\
		${P(E) = 1-P((F_1 F_2 F_3 F_4)^c)=1-P(F_1^c \cup F_2^c \cup F_3^c \cup F_4^c)}$\\
		Since all the ${F_i^c}$ are not mutually exclusive, the answer will be very complex before expansion.
		Because of the limited number of buckets and strings, we can try to use another way to get the answer.\\
		${G = \{\text{All the buckets have at least 1 string}\}}$\\
		${H = \{\text{No string in bucket 5, all the first 4 buckets have at least one or 2 strings}\}}$\\
		${I = \{\text{No string in bucket 5, all the first 4 buckets have at least one or 3 strings}\}}$\\
		${P(E)=P(G)+P(G_5)+P(G_6)}$\\
		For each of event ${G}$, there is only one bucket can have 2 strings in it and we can add up all the 5 possible situation to get the total probability.\\
		${P(G)=\frac{6!}{2!}\sum\limits_{i=1}^5(p_i\prod\limits_{j=1}^5p_j)=360\sum\limits_{i=1}^5 p_i\prod\limits_{j=1}^5p_j = 360\prod\limits_{j=1}^5p_j}$\\
		For each of event ${H}$, there are 2 bucket have 2 strings in it.\\
		${P(H)=\frac{6!}{2!2!}(p_1 p_2 p_3^2 p_4^2+p_1 p_2^2 p_3 p_4^2 \ldots)=180(p_1 p_2 + p_1 p_3 + p_1 p_4 + p_2 p_3 + p_2 p_4 + p_3 p_4)p_1 p_2 p_3 p_4}$\\
		For each of event ${H}$, there are 1 bucket have 3 strings in it.\\
		${P(I)=\frac{6!}{3!}(p_1^3 p_2 p_3 p_4 + p_1 p_2^3 p_3 p_4 + p_1 p_2 p_3^3 p_4+ p_1 p_2 p_3 p_4^3) = 120(p_1^2+p_2^2+p_3^2+p_4^2) p_1 p_2 p_3 p_4}$\\
		\myansw
		\colorbox{yellow}{
		${P(E)=60(6p_5 + 3(p_1 p_2 + p_1 p_3 + p_1 p_4 + p_2 p_3 + p_2 p_4 + p_3 p_4)+2(p_1^2+p_2^2+p_3^2+p_4^2))p_1p_2p_3p_4}$}\\
		\item
		\myansw
		After substitute all the ${p_i}$ values, we can get\\
		\colorbox{yellow}{
			${P(E)=60\times(6\times 0.1 + 3\times 0.2925+2\times 0.225)\times 0.001875=0.2168}$
		}
		
	\end{enumerate}
	\item
	\begin{enumerate}
		\item
		\mysolu
		The probability that \textbf{\texttt{fairRandom}} returns 1 can be described as\\
		${P({r2 = 1|r2\neq r1})=\frac{P(\{r2 = 1, r1 = 0\})}{P(\{r2 \neq r1\})}}$\\
		\myansw
		The probability that \textbf{\texttt{fairRandom}} returns 1 is\\
		\colorbox{yellow}{${P(E)= \frac{p(1-p)}{p(1-p)+(1-p)p}=0.5}$}\\
		So that \textbf{\texttt{fairRandom}} dose indeed return a 0 and a 1 with equal probability.
		\item
		\mysolu
		Based on the \textbf{\texttt{simpleRandom}}, the only chance that function can return is when ${r2 \neq r1}$. So we can find\\
		${P(\{r2 = 1|r1 = 1\})=0}$\\
		${P(\{r2 = 1|r1 = 0\})=1}$\\
		The probability of ${P(\texttt{simpleRandom}\text{ returns 1})}$ is\\
		\colorbox{yellow}{
		${P(\{r2 = 1\})=P(\{r1=0\})=1-p}$}\\
		\myansw
		We can not guarantee that \textbf{\texttt{simpleRandom}} generates 0's and 1's with equal probability unless \textbf{\texttt{unknownRandom}} returns 0's and 1's with equal probability ${p = 0.5}$.
		\item
		\mysolu
		After run the simulation, the probability that second player wins is\\
		${0.516}$
		
	\end{enumerate}


%	\item A product in math mode: \[\prod\limits_{i=1}^n x = x^n\]



\end{enumerate}

\newpage


\end{document}